(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[2],{10:function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"a",(function(){return N})),n.d(e,"c",(function(){return k}));var r,c,a,o=n(2),u={registerRequest:Object(o.b)("auth/registerRequest"),registerSuccess:Object(o.b)("auth/registerSuccess"),registerError:Object(o.b)("auth/registerError"),logInRequest:Object(o.b)("auth/logInRequest"),logInSuccess:Object(o.b)("auth/logInSuccess"),logInError:Object(o.b)("auth/logInError"),logOutRequest:Object(o.b)("auth/logOutRequest"),logOutSuccess:Object(o.b)("auth/logOutSuccess"),logOutError:Object(o.b)("auth/logOutError"),getCurrentUserRequest:Object(o.b)("auth/getCurrentUserRequest"),getCurrentUserSuccess:Object(o.b)("auth/getCurrentUserSuccess"),getCurrentUserError:Object(o.b)("auth/getCurrentUserError")},s=n(3),i=n(7),b={name:null,email:null},l=Object(o.c)(b,(r={},Object(s.a)(r,u.registerSuccess,(function(t,e){return e.payload.user})),Object(s.a)(r,u.logInSuccess,(function(t,e){return e.payload.user})),Object(s.a)(r,u.logOutSuccess,(function(t,e){return b})),Object(s.a)(r,u.getCurrentUserSuccess,(function(t,e){return e.payload})),r)),j=Object(o.c)(null,(c={},Object(s.a)(c,u.registerSuccess,(function(t,e){return e.payload.token})),Object(s.a)(c,u.logInSuccess,(function(t,e){return e.payload.token})),Object(s.a)(c,u.logOutSuccess,(function(){return null})),c)),O=function(t,e){return e.payload},d=Object(o.c)(null,(a={},Object(s.a)(a,u.registerError,O),Object(s.a)(a,u.logInError,O),Object(s.a)(a,u.logOutError,O),Object(s.a)(a,u.getCurrentUserError,O),a)),p=Object(i.b)({user:l,token:j,error:d}),f=n(14),h=n.n(f),g=n(23),v=n(15),m=n.n(v);m.a.defaults.baseURL="https://connections-api.herokuapp.com/";var x=function(t){m.a.defaults.headers.common.Authorization="Bearer ".concat(t)},_=function(){m.a.defaults.headers.common.Authorization=""},N={register:function(t){return function(){var e=Object(g.a)(h.a.mark((function e(n){var r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(u.registerRequest()),e.prev=1,e.next=4,m.a.post("/users/signup",t);case 4:r=e.sent,c=r.data,x(c.token),n(u.registerSuccess(c)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(u.registerError(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},logIn:function(t){return function(){var e=Object(g.a)(h.a.mark((function e(n){var r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(u.logInRequest()),e.prev=1,e.next=4,m.a.post("/users/login",t);case 4:r=e.sent,c=r.data,x(c.token),n(u.logInSuccess(c)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(u.logInError(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},logOut:function(){return function(){var t=Object(g.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(u.logOutRequest()),t.prev=1,t.next=4,m.a.post("/users/logout");case 4:_(),e(u.logOutSuccess()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(u.logOutError(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var t=Object(g.a)(h.a.mark((function t(e,n){var r,c,a,o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n(),c=r.authorization.token){t.next=3;break}return t.abrupt("return");case 3:return x(c),e(u.getCurrentUserRequest()),t.prev=5,t.next=8,m.a.get("/users/current");case 8:a=t.sent,o=a.data,e(u.getCurrentUserSuccess(o)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),e(u.getCurrentUserError(t.t0.message));case 16:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e,n){return t.apply(this,arguments)}}()}},k={getIsAuthenticated:function(t){return Boolean(t.authorization.token)},getUsername:function(t){return t.authorization.user.name}}},108:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),a=n(19),o=n.n(a),u=n(11),s=n(17),i=n(50),b=n(26),l=n(27),j=n(29),O=n(28),d=n(6),p=n(49),f=n(53),h=n.n(f),g=n(1),v=function(t){var e=t.children;return Object(g.jsx)("div",{className:h.a.container,children:e})},m=n(110),x=n(24),_=n.n(x),N=n.p+"static/media/logo.2e1249bc.png",k="/goit-react-hw-08-phonebook",L="/contacts",A="/register",y="/login",C=n(21),U=n.n(C),S=n(10),w=Object(u.b)((function(t){return{isAuthenticated:S.c.getIsAuthenticated(t)}}))((function(t){var e=t.isAuthenticated;return Object(g.jsxs)("ul",{className:U.a.NavList,children:[Object(g.jsx)("li",{className:U.a.List,children:Object(g.jsx)(s.b,{to:k,className:U.a.NavLink,activeClassName:U.a.NavLink__active,children:"Home"})}),Object(g.jsx)("li",{className:U.a.List,children:e&&Object(g.jsx)(s.b,{to:L,className:U.a.NavLink,activeClassName:U.a.NavLink__active,children:"Phonebook"})})]})})),E=n(22),I=n.n(E),R=function(){return Object(g.jsxs)("ul",{className:I.a.NavList,children:[Object(g.jsx)("li",{className:I.a.List,children:Object(g.jsx)(s.b,{to:y,className:I.a.NavLink,activeClassName:I.a.NavLink__active,children:"LogIn"})}),Object(g.jsx)("li",{className:I.a.List,children:Object(g.jsx)(s.b,{to:A,className:I.a.NavLink,activeClassName:I.a.NavLink__active,children:"Register"})})]})},z=n.p+"static/media/login.690b5bda.png",B=n(34),M=n.n(B),q=Object(u.b)((function(t){return{avatar:z,name:S.c.getUsername(t)}}),(function(t){return{onLogout:function(){return t(S.a.logOut())}}}))((function(t){var e=t.avatar,n=t.name,r=t.onLogout;return Object(g.jsxs)("div",{className:M.a.UserMenu,children:[Object(g.jsx)("img",{src:e,alt:"",width:"32"}),Object(g.jsxs)("span",{className:M.a.UserName,children:["Welcome, ",n]}),Object(g.jsx)("button",{type:"button",onClick:r,className:M.a.button,children:"Logout"})]})})),T=Object(u.b)((function(t){return{isAuthenticated:S.c.getIsAuthenticated(t)}}))((function(t){var e=t.isAuthenticated;return Object(g.jsx)(m.a,{in:!0,appear:!0,timeout:250,classNames:_.a,unmountOnExit:!0,children:Object(g.jsxs)("header",{className:_.a.AppBar,children:[Object(g.jsx)("div",{className:_.a.Logo,children:Object(g.jsx)("img",{src:N,alt:"logo",width:"60"})}),Object(g.jsxs)("div",{className:_.a.Navigation,children:[Object(g.jsx)(w,{}),Object(g.jsx)("div",{className:_.a.BarMenu,children:e?Object(g.jsx)(q,{}):Object(g.jsx)(R,{})})]})]})})})),F=n(54),K=n.n(F),D=function(t){var e=t.children;return Object(g.jsxs)("div",{className:K.a.Layout,children:[Object(g.jsx)(T,{}),Object(g.jsxs)(v,{children:[" ",e," "]})]})},G=n(20),P=n(33),V=["component","isAuthenticated","redirectTo"],W=Object(u.b)((function(t){return{isAuthenticated:S.c.getIsAuthenticated(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,r=t.redirectTo,c=Object(P.a)(t,V);return Object(g.jsx)(d.b,Object(G.a)(Object(G.a)({},c),{},{render:function(t){return n?Object(g.jsx)(e,Object(G.a)({},t)):Object(g.jsx)(d.a,{to:r})}}))})),J=["component","isAuthenticated","redirectTo"],Y=(Object(u.b)((function(t){return{isAuthenticated:S.c.getIsAuthenticated(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,r=t.redirectTo,c=Object(P.a)(t,J);return Object(g.jsx)(d.b,Object(G.a)(Object(G.a)({},c),{},{render:function(t){return n&&c.restricted?Object(g.jsx)(d.a,{to:r}):Object(g.jsx)(e,Object(G.a)({},t))}}))})),Object(r.lazy)((function(){return n.e(0).then(n.bind(null,115))}))),H=Object(r.lazy)((function(){return n.e(3).then(n.bind(null,118))})),X=Object(r.lazy)((function(){return n.e(1).then(n.bind(null,116))})),Z=Object(r.lazy)((function(){return n.e(4).then(n.bind(null,117))})),Q=function(t){Object(j.a)(n,t);var e=Object(O.a)(n);function n(){return Object(b.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.onRefreshUser()}},{key:"render",value:function(){return Object(g.jsx)(D,{children:Object(g.jsx)(r.Suspense,{fallback:Object(g.jsx)(p.a,{}),children:Object(g.jsxs)(d.d,{children:[Object(g.jsx)(W,{path:L,component:H,redirectTo:y}),Object(g.jsx)(d.b,{path:k,exact:!0,component:Y}),Object(g.jsx)(d.b,{path:y,exact:!0,component:X}),Object(g.jsx)(d.b,{path:A,exact:!0,component:Z})]})})})}}]),n}(r.Component),$={onRefreshUser:S.a.getCurrentUser},tt=Object(u.b)(null,$)(Q),et=(n(105),n(32)),nt=n(2),rt=n(55),ct=n.n(rt),at=n(18),ot=n(56),ut=n.n(ot),st=n(39),it=[].concat(Object(et.a)(Object(nt.d)({serializableCheck:{ignoredActions:[at.a,at.f,at.b,at.c,at.d,at.e]}})),[ct.a]),bt={key:"authorization",storage:ut.a,whitelist:["token"]},lt=Object(nt.a)({reducer:{authorization:Object(at.g)(bt,S.b),phoneBook:st.c},middleware:it,devTools:!1}),jt={store:lt,persistor:Object(at.h)(lt)};o.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(u.a,{store:jt.store,children:Object(g.jsx)(i.a,{loading:null,persistor:jt.persistor,children:Object(g.jsx)(s.a,{children:Object(g.jsx)(tt,{})})})})}),document.getElementById("root"))},21:function(t,e,n){t.exports={NavLink:"Navigation_NavLink__3oEd8",NavLink__active:"Navigation_NavLink__active__1Wy5a",NavList:"Navigation_NavList__9TP9c",List:"Navigation_List__1EWAG"}},22:function(t,e,n){t.exports={NavLink:"AuthorizationMenu_NavLink__dkzu2",NavLink__active:"AuthorizationMenu_NavLink__active__wzG6e",NavList:"AuthorizationMenu_NavList__3s1ze",List:"AuthorizationMenu_List__1Y44y"}},24:function(t,e,n){t.exports={AppBar:"AppBar_AppBar__3h8r1",Navigation:"AppBar_Navigation__37REa",Logo:"AppBar_Logo__2Urwy",appear:"AppBar_appear__1K9ce",appearActive:"AppBar_appearActive__3ShXK",BarMenu:"AppBar_BarMenu__o8dG4"}},34:function(t,e,n){t.exports={button:"UserMenu_button__3KtDP",UserMenu:"UserMenu_UserMenu__3VVfi",UserName:"UserMenu_UserName__13Kun"}},39:function(t,e,n){"use strict";n.d(e,"c",(function(){return I})),n.d(e,"d",(function(){return M})),n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return G}));var r,c,a,o=n(3),u=n(32),s=n(7),i=n(2),b=Object(i.b)("contacts/addRequest"),l=Object(i.b)("contacts/addSuccess"),j=Object(i.b)("contacts/addErorr"),O=Object(i.b)("contact/deleteRequest"),d=Object(i.b)("contact/deleteSuccess"),p=Object(i.b)("contact/deleteError"),f=Object(i.b)("filter/change"),h=Object(i.b)("contacts/fetchRequest"),g=Object(i.b)("contacts/fetchSuccess"),v=Object(i.b)("contacts/fetchError"),m=b,x=l,_=j,N=O,k=d,L=p,A=h,y=g,C=v,U=Object(i.c)([],(r={},Object(o.a)(r,x,(function(t,e){return[].concat(Object(u.a)(t),[e.payload])})),Object(o.a)(r,k,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),Object(o.a)(r,y,(function(t,e){return e.payload})),r)),S=Object(i.c)("",Object(o.a)({},f,(function(t,e){return e.payload}))),w=Object(i.c)(!1,(c={},Object(o.a)(c,m,(function(){return!0})),Object(o.a)(c,x,(function(){return!1})),Object(o.a)(c,_,(function(){return!1})),Object(o.a)(c,N,(function(){return!0})),Object(o.a)(c,k,(function(){return!1})),Object(o.a)(c,L,(function(){return!1})),Object(o.a)(c,A,(function(){return!0})),Object(o.a)(c,y,(function(){return!1})),Object(o.a)(c,C,(function(){return!1})),c)),E=Object(i.c)(null,(a={},Object(o.a)(a,_,(function(t,e){var n=e.payload;return console.log(n)})),Object(o.a)(a,L,(function(t,e){var n=e.payload;return console.log(n)})),Object(o.a)(a,C,(function(t,e){var n=e.payload;return console.log(n)})),a)),I=Object(s.b)({contacts:U,filter:S,loading:w,error:E}),R=n(31),z=function(t){return t.phoneBook.filter},B=function(t){return t.phoneBook.contacts},M={getIsLoading:function(t){return t.phoneBook.loading},getFilter:z,getAllContacts:B,getSpecifiedContacts:Object(R.a)([B,z],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},q=n(14),T=n.n(q),F=n(23),K=n(15),D=n.n(K),G={addContact:function(t){return function(e){var n={name:t.name,number:t.number};e(b()),D.a.post("/contacts",n).then((function(t){var n=t.data;return e(l(n))})).catch((function(t){return e(j(t))}))}},deleteContact:function(t){return function(e){e(O()),D.a.delete("/contacts/".concat(t)).then((function(){return e(d(t))})).catch((function(t){return e(p(t))}))}},fetchContacts:function(){return function(){var t=Object(F.a)(T.a.mark((function t(e){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(h()),t.prev=1,t.next=4,D.a.get("/contacts");case 4:n=t.sent,e(g(n.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(v(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}}},49:function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));var r=n(26),c=n(27),a=n(29),o=n(28),u=n(0),s=n(51),i=n.n(s),b=(n(83),n(52)),l=n.n(b),j=n(1),O=function(t){Object(a.a)(n,t);var e=Object(o.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(j.jsx)("div",{className:l.a.spiner,children:Object(j.jsx)(i.a,{type:"MutatingDots",color:"#FFA500",secondaryColor:"#FFA500",width:100,height:100,timeout:300})})}}]),n}(u.Component)},52:function(t,e,n){t.exports={spiner:"Loader_spiner__1OCti"}},53:function(t,e,n){t.exports={container:"Container_container__3eZVY"}},54:function(t,e,n){}},[[108,5,6]]]);
//# sourceMappingURL=main.67fa3475.chunk.js.map