(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[2],{10:function(t,e,n){"use strict";n.d(e,"b",(function(){return h})),n.d(e,"a",(function(){return L})),n.d(e,"c",(function(){return A}));var r,c,a,o,u=n(3),s={registerRequest:Object(u.b)("auth/registerRequest"),registerSuccess:Object(u.b)("auth/registerSuccess"),registerError:Object(u.b)("auth/registerError"),logInRequest:Object(u.b)("auth/logInRequest"),logInSuccess:Object(u.b)("auth/logInSuccess"),logInError:Object(u.b)("auth/logInError"),logOutRequest:Object(u.b)("auth/logOutRequest"),logOutSuccess:Object(u.b)("auth/logOutSuccess"),logOutError:Object(u.b)("auth/logOutError"),getCurrentUserRequest:Object(u.b)("auth/getCurrentUserRequest"),getCurrentUserSuccess:Object(u.b)("auth/getCurrentUserSuccess"),getCurrentUserError:Object(u.b)("auth/getCurrentUserError")},i=n(2),b=n(7),j={name:null,email:null},l=Object(u.c)(j,(r={},Object(i.a)(r,s.registerSuccess,(function(t,e){return e.payload.user})),Object(i.a)(r,s.logInSuccess,(function(t,e){return e.payload.user})),Object(i.a)(r,s.logOutSuccess,(function(t,e){return j})),Object(i.a)(r,s.getCurrentUserSuccess,(function(t,e){return e.payload})),r)),O=Object(u.c)(null,(c={},Object(i.a)(c,s.registerSuccess,(function(t,e){return e.payload.token})),Object(i.a)(c,s.logInSuccess,(function(t,e){return e.payload.token})),Object(i.a)(c,s.logOutSuccess,(function(){return null})),c)),d=function(t,e){return e.payload},f=Object(u.c)(null,(a={},Object(i.a)(a,s.registerError,d),Object(i.a)(a,s.logInError,d),Object(i.a)(a,s.logOutError,d),Object(i.a)(a,s.getCurrentUserError,d),a)),p=Object(u.c)(!1,(o={},Object(i.a)(o,s.registerSuccess,(function(){return!0})),Object(i.a)(o,s.logInSuccess,(function(){return!0})),Object(i.a)(o,s.getCurrentUserSuccess,(function(){return!0})),Object(i.a)(o,s.registerError,(function(){return!1})),Object(i.a)(o,s.logInError,(function(){return!1})),Object(i.a)(o,s.getCurrentUserError,(function(){return!1})),Object(i.a)(o,s.logOutSuccess,(function(){return!1})),o)),h=Object(b.b)({user:l,token:O,error:f,isAuthenticated:p}),g=n(14),v=n.n(g),m=n(23),_=n(15),x=n.n(_);x.a.defaults.baseURL="https://connections-api.herokuapp.com/";var N=function(t){x.a.defaults.headers.common.Authorization="Bearer ".concat(t)},k=function(){x.a.defaults.headers.common.Authorization=""},L={register:function(t){return function(){var e=Object(m.a)(v.a.mark((function e(n){var r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(s.registerRequest()),e.prev=1,e.next=4,x.a.post("/users/signup",t);case 4:r=e.sent,c=r.data,N(c.token),n(s.registerSuccess(c)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(s.registerError(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},logIn:function(t){return function(){var e=Object(m.a)(v.a.mark((function e(n){var r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(s.logInRequest()),e.prev=1,e.next=4,x.a.post("/users/login",t);case 4:r=e.sent,c=r.data,N(c.token),n(s.logInSuccess(c)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(s.logInError(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},logOut:function(){return function(){var t=Object(m.a)(v.a.mark((function t(e){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(s.logOutRequest()),t.prev=1,t.next=4,x.a.post("/users/logout");case 4:k(),e(s.logOutSuccess()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(s.logOutError(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var t=Object(m.a)(v.a.mark((function t(e,n){var r,c,a,o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n(),c=r.authorization.token){t.next=3;break}return t.abrupt("return");case 3:return N(c),e(s.getCurrentUserRequest()),t.prev=5,t.next=8,x.a.get("/users/current");case 8:a=t.sent,o=a.data,e(s.getCurrentUserSuccess(o)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),e(s.getCurrentUserError(t.t0.message));case 16:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e,n){return t.apply(this,arguments)}}()}},A={getIsAuthenticated:function(t){return t.authorization.isAuthenticated},getUsername:function(t){return t.authorization.user.name}}},108:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),a=n(19),o=n.n(a),u=n(11),s=n(17),i=n(50),b=n(26),j=n(27),l=n(29),O=n(28),d=n(6),f=n(49),p=n(53),h=n.n(p),g=n(1),v=function(t){var e=t.children;return Object(g.jsx)("div",{className:h.a.container,children:e})},m=n(110),_=n(24),x=n.n(_),N=n.p+"static/media/logo.2e1249bc.png",k="/goit-react-hw-08-phonebook",L="/contacts",A="/register",y="/login",C=n(21),S=n.n(C),U=n(10),E=Object(u.b)((function(t){return{isAuthenticated:U.c.getIsAuthenticated(t)}}))((function(t){var e=t.isAuthenticated;return Object(g.jsxs)("ul",{className:S.a.NavList,children:[Object(g.jsx)("li",{className:S.a.List,children:Object(g.jsx)(s.b,{to:k,className:S.a.NavLink,activeClassName:S.a.NavLink__active,children:"Home"})}),Object(g.jsx)("li",{className:S.a.List,children:e&&Object(g.jsx)(s.b,{to:L,className:S.a.NavLink,activeClassName:S.a.NavLink__active,children:"Phonebook"})})]})})),w=n(22),I=n.n(w),R=function(){return Object(g.jsxs)("ul",{className:I.a.NavList,children:[Object(g.jsx)("li",{className:I.a.List,children:Object(g.jsx)(s.b,{to:y,className:I.a.NavLink,activeClassName:I.a.NavLink__active,children:"LogIn"})}),Object(g.jsx)("li",{className:I.a.List,children:Object(g.jsx)(s.b,{to:A,className:I.a.NavLink,activeClassName:I.a.NavLink__active,children:"Register"})})]})},z=n.p+"static/media/login.690b5bda.png",B=n(34),M=n.n(B),q=Object(u.b)((function(t){return{avatar:z,name:U.c.getUsername(t)}}),(function(t){return{onLogout:function(){return t(U.a.logOut())}}}))((function(t){var e=t.avatar,n=t.name,r=t.onLogout;return Object(g.jsxs)("div",{className:M.a.UserMenu,children:[Object(g.jsx)("img",{src:e,alt:"",width:"32"}),Object(g.jsxs)("span",{className:M.a.UserName,children:["Welcome, ",n]}),Object(g.jsx)("button",{type:"button",onClick:r,className:M.a.button,children:"Logout"})]})})),T=Object(u.b)((function(t){return{isAuthenticated:U.c.getIsAuthenticated(t)}}))((function(t){var e=t.isAuthenticated;return Object(g.jsx)(m.a,{in:!0,appear:!0,timeout:250,classNames:x.a,unmountOnExit:!0,children:Object(g.jsxs)("header",{className:x.a.AppBar,children:[Object(g.jsx)("div",{className:x.a.Logo,children:Object(g.jsx)("img",{src:N,alt:"logo",width:"60"})}),Object(g.jsxs)("div",{className:x.a.Navigation,children:[Object(g.jsx)(E,{}),Object(g.jsx)("div",{className:x.a.BarMenu,children:e?Object(g.jsx)(q,{}):Object(g.jsx)(R,{})})]})]})})})),F=n(54),K=n.n(F),D=function(t){var e=t.children;return Object(g.jsxs)("div",{className:K.a.Layout,children:[Object(g.jsx)(T,{}),Object(g.jsxs)(v,{children:[" ",e," "]})]})},G=n(20),P=n(33),V=["component","isAuthenticated","redirectTo"],W=Object(u.b)((function(t){return{isAuthenticated:U.c.getIsAuthenticated(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,r=t.redirectTo,c=Object(P.a)(t,V);return Object(g.jsx)(d.b,Object(G.a)(Object(G.a)({},c),{},{render:function(t){return n?Object(g.jsx)(e,Object(G.a)({},t)):Object(g.jsx)(d.a,{to:r})}}))})),J=["component","isAuthenticated","redirectTo"],Y=Object(u.b)((function(t){return{isAuthenticated:U.c.getIsAuthenticated(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,r=t.redirectTo,c=Object(P.a)(t,J);return Object(g.jsx)(d.b,Object(G.a)(Object(G.a)({},c),{},{render:function(t){return n&&c.restricted?Object(g.jsx)(d.a,{to:r}):Object(g.jsx)(e,Object(G.a)({},t))}}))})),H=Object(r.lazy)((function(){return n.e(0).then(n.bind(null,115))})),X=Object(r.lazy)((function(){return n.e(3).then(n.bind(null,118))})),Z=Object(r.lazy)((function(){return n.e(1).then(n.bind(null,116))})),Q=Object(r.lazy)((function(){return n.e(4).then(n.bind(null,117))})),$=function(t){Object(l.a)(n,t);var e=Object(O.a)(n);function n(){return Object(b.a)(this,n),e.apply(this,arguments)}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.props.onRefreshUser()}},{key:"render",value:function(){return Object(g.jsx)(D,{children:Object(g.jsx)(r.Suspense,{fallback:Object(g.jsx)(f.a,{}),children:Object(g.jsxs)(d.d,{children:[Object(g.jsx)(W,{path:L,component:X,redirectTo:y}),Object(g.jsx)(Y,{path:k,exact:!0,component:H}),Object(g.jsx)(Y,{path:y,restricted:!0,component:Z,redirectTo:L}),Object(g.jsx)(Y,{path:A,restricted:!0,component:Q,redirectTo:L})]})})})}}]),n}(r.Component),tt={onRefreshUser:U.a.getCurrentUser},et=Object(u.b)(null,tt)($),nt=(n(105),n(32)),rt=n(3),ct=n(55),at=n.n(ct),ot=n(18),ut=n(56),st=n.n(ut),it=n(39),bt=[].concat(Object(nt.a)(Object(rt.d)({serializableCheck:{ignoredActions:[ot.a,ot.f,ot.b,ot.c,ot.d,ot.e]}})),[at.a]),jt={key:"authorization",storage:st.a,whitelist:["token"]},lt=Object(rt.a)({reducer:{authorization:Object(ot.g)(jt,U.b),phoneBook:it.c},middleware:bt,devTools:!1}),Ot={store:lt,persistor:Object(ot.h)(lt)};o.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(u.a,{store:Ot.store,children:Object(g.jsx)(i.a,{loading:null,persistor:Ot.persistor,children:Object(g.jsx)(s.a,{children:Object(g.jsx)(et,{})})})})}),document.getElementById("root"))},21:function(t,e,n){t.exports={NavLink:"Navigation_NavLink__3oEd8",NavLink__active:"Navigation_NavLink__active__1Wy5a",NavList:"Navigation_NavList__9TP9c",List:"Navigation_List__1EWAG"}},22:function(t,e,n){t.exports={NavLink:"AuthorizationMenu_NavLink__dkzu2",NavLink__active:"AuthorizationMenu_NavLink__active__wzG6e",NavList:"AuthorizationMenu_NavList__3s1ze",List:"AuthorizationMenu_List__1Y44y"}},24:function(t,e,n){t.exports={AppBar:"AppBar_AppBar__3h8r1",Navigation:"AppBar_Navigation__37REa",Logo:"AppBar_Logo__2Urwy",appear:"AppBar_appear__1K9ce",appearActive:"AppBar_appearActive__3ShXK",BarMenu:"AppBar_BarMenu__o8dG4"}},34:function(t,e,n){t.exports={button:"UserMenu_button__3KtDP",UserMenu:"UserMenu_UserMenu__3VVfi",UserName:"UserMenu_UserName__13Kun"}},39:function(t,e,n){"use strict";n.d(e,"c",(function(){return I})),n.d(e,"d",(function(){return M})),n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return G}));var r,c,a,o=n(2),u=n(32),s=n(7),i=n(3),b=Object(i.b)("contacts/addRequest"),j=Object(i.b)("contacts/addSuccess"),l=Object(i.b)("contacts/addErorr"),O=Object(i.b)("contact/deleteRequest"),d=Object(i.b)("contact/deleteSuccess"),f=Object(i.b)("contact/deleteError"),p=Object(i.b)("filter/change"),h=Object(i.b)("contacts/fetchRequest"),g=Object(i.b)("contacts/fetchSuccess"),v=Object(i.b)("contacts/fetchError"),m=b,_=j,x=l,N=O,k=d,L=f,A=h,y=g,C=v,S=Object(i.c)([],(r={},Object(o.a)(r,_,(function(t,e){return[].concat(Object(u.a)(t),[e.payload])})),Object(o.a)(r,k,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),Object(o.a)(r,y,(function(t,e){return e.payload})),r)),U=Object(i.c)("",Object(o.a)({},p,(function(t,e){return e.payload}))),E=Object(i.c)(!1,(c={},Object(o.a)(c,m,(function(){return!0})),Object(o.a)(c,_,(function(){return!1})),Object(o.a)(c,x,(function(){return!1})),Object(o.a)(c,N,(function(){return!0})),Object(o.a)(c,k,(function(){return!1})),Object(o.a)(c,L,(function(){return!1})),Object(o.a)(c,A,(function(){return!0})),Object(o.a)(c,y,(function(){return!1})),Object(o.a)(c,C,(function(){return!1})),c)),w=Object(i.c)(null,(a={},Object(o.a)(a,x,(function(t,e){var n=e.payload;return console.log(n)})),Object(o.a)(a,L,(function(t,e){var n=e.payload;return console.log(n)})),Object(o.a)(a,C,(function(t,e){var n=e.payload;return console.log(n)})),a)),I=Object(s.b)({contacts:S,filter:U,loading:E,error:w}),R=n(31),z=function(t){return t.phoneBook.filter},B=function(t){return t.phoneBook.contacts},M={getIsLoading:function(t){return t.phoneBook.loading},getFilter:z,getAllContacts:B,getSpecifiedContacts:Object(R.a)([B,z],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},q=n(14),T=n.n(q),F=n(23),K=n(15),D=n.n(K),G={addContact:function(t){return function(e){var n={name:t.name,number:t.number};e(b()),D.a.post("/contacts",n).then((function(t){var n=t.data;return e(j(n))})).catch((function(t){return e(l(t))}))}},deleteContact:function(t){return function(e){e(O()),D.a.delete("/contacts/".concat(t)).then((function(){return e(d(t))})).catch((function(t){return e(f(t))}))}},fetchContacts:function(){return function(){var t=Object(F.a)(T.a.mark((function t(e){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(h()),t.prev=1,t.next=4,D.a.get("/contacts");case 4:n=t.sent,e(g(n.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(v(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}}},49:function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));var r=n(26),c=n(27),a=n(29),o=n(28),u=n(0),s=n(51),i=n.n(s),b=(n(83),n(52)),j=n.n(b),l=n(1),O=function(t){Object(a.a)(n,t);var e=Object(o.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(l.jsx)("div",{className:j.a.spiner,children:Object(l.jsx)(i.a,{type:"MutatingDots",color:"#FFA500",secondaryColor:"#FFA500",width:100,height:100,timeout:300})})}}]),n}(u.Component)},52:function(t,e,n){t.exports={spiner:"Loader_spiner__1OCti"}},53:function(t,e,n){t.exports={container:"Container_container__3eZVY"}},54:function(t,e,n){}},[[108,5,6]]]);
//# sourceMappingURL=main.26a10076.chunk.js.map